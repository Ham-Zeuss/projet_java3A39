<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Text?>

<?import java.lang.String?>
<VBox xmlns="http://javafx.com/javafx"
      xmlns:fx="http://javafx.com/fxml"
      fx:controller="Controller.Boubaker.ChatbotController"
      styleClass="chatbot-container"
      alignment="TOP_CENTER"
      spacing="2"
      maxWidth="Infinity"
      maxHeight="Infinity"
      style="-fx-padding: 10 20 0 20;">
    <stylesheets>
        <!-- Fallback to explicit path -->
        <String fx:value="/style.css"/>
    </stylesheets>

    <!-- Header -->
    <VBox styleClass="chatbot-header" alignment="CENTER" spacing="5">
        <Text fx:id="chatbotTitle" styleClass="chatbot-title" accessibleText="KPI Chatbot Header"/>
        <Text text="Ask about KPI Packs or anything else!" styleClass="hero-subtitle" accessibleText="Chatbot instructions"/>
    </VBox>

    <!-- Scrollable chat area -->
    <ScrollPane fx:id="chatScroll" styleClass="chat-scroll" fitToWidth="true" fitToHeight="true" pannable="true" VBox.vgrow="ALWAYS">
        <VBox fx:id="chatContainer" styleClass="chat-container" spacing="5" alignment="TOP_CENTER" minHeight="0" style="-fx-padding: 10 20 0 20;"/>
    </ScrollPane>

    <!-- Input area -->
    <VBox styleClass="chatbot-input-box" alignment="CENTER" spacing="2" maxWidth="Infinity" style="-fx-padding: 5 15 5 15;">
        <Text fx:id="errorLabel" styleClass="error-label" text="" visible="false"/>
        <Text fx:id="charCounter" styleClass="hero-subtitle" text="0/500" accessibleText="Character count"/>
        <HBox alignment="CENTER" spacing="5" maxWidth="Infinity">
            <TextField fx:id="chatbotInput" styleClass="chatbot-input" promptText="Type your message..." maxWidth="Infinity" HBox.hgrow="ALWAYS" accessibleText="Chat input field"/>
            <Button fx:id="sendButton" styleClass="chatbot-button" text="Send" onAction="#handleSend" accessibleText="Send message"/>
            <Button fx:id="clearButton" styleClass="chatbot-button" text="Clear" onAction="#clearChat" accessibleText="Clear chat"/>
        </HBox>
    </VBox>
</VBox>